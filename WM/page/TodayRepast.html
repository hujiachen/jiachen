<!DOCTYPE html>
<html>
<head>
<title>今日餐饮</title>
<meta http-equiv="X-UA-Compatible" content="IE=edge"/>
<meta name="viewport" content="width=device-width,user-scalable=no"/>
<meta http-equiv="content-type" content="text/html; charset=utf-8"/>
<meta name="apple-mobile-web-app-capable" content="yes"/>
<link rel="stylesheet" href="//maxcdn.bootstrapcdn.com/font-awesome/4.3.0/css/font-awesome.min.css">
<link href="//netdna.bootstrapcdn.com/font-awesome/4.5.0/css/font-awesome.min.css" rel="stylesheet">
<link rel="stylesheet" href="path/to/font-awesome/css/font-awesome.min.css">
<link rel="stylesheet" href="http://netdna.bootstrapcdn.com/bootstrap/3.1.1/css/bootstrap.min.css">
<link rel="stylesheet" href="css/style.css">
<style type="text/css">
	/*数量*/
.mydiv {
text-align: center;
margin: 0 auto;
line-height: 20px;
border: 2px solid #ECE6E7;
font-size: 12px;
z-index: 999;
width: 300px;
height: 200px;
left: 72%;
top: 20%;
color: #560c0c;
padding-top: 50px;
position: absolute;
left: 0;
right: 0;
background-color: #f5f0f0;
border-radius: 10px;
}
.sy_plus{font-size: 20px;}
.sy_minus{font-size: 20px;}

a{text-decoration: none;
color: #fff;}
a:hover{
   color:#fff;
}

</style>
<script type="text/javascript" src="jquery-1.8.0.min.js"></script>
<script type="text/javascript">
    $(document).ready (function ()
    {
        var pl = $("p:last");
        var reg = /(.*[\:\：]\s*)([\+\d\.]+)(\s*元)/g;
        $ (".sy_minus").click (function ()
        {
            var me = $ (this), txt = me.next (":t5*1· ext"), pc = me.closest("p");
            var val = parseFloat (txt.val ());
            val = val < 1 ? 1 : val;
            txt.val (val - 1);
            var price = parseFloat (pc.prev("p").text().replace(reg,'$2')) * txt.val ();
            pc.next("p").text (pc.next("p").text().replace(reg, "$1" + price + "$3"));
            var sum = 0;
            $(".p_num").next("p").each(function (i, dom)
            {
                sum += parseFloat ($(this).text().replace(reg, "$2"));
            });
            pl.text(pl.text().replace(reg, "$1" + sum + "$3"));
        });
         
        $(".sy_plus").click (function ()
        {
            var me = $ (this), txt = me.prev (":text"), pc = me.closest("p");
            var val = parseFloat (txt.val ());
            txt.val (val + 1);
            var price = parseFloat (pc.prev("p").text().replace(reg,'$2')) * txt.val ();
            pc.next("p").text (pc.next("p").text().replace(reg, "$1" + price + "$3"));
            var sum = 0;
            $(".p_num").next("p").each(function (i, dom)
            {
                sum += parseFloat ($(this).text().replace(reg, "$2"));
            });
            pl.text(pl.text().replace(reg, "$1" + sum + "$3"));
        });
    })[0].onselectstart = new Function ("return false");
</script>
</head>
<body>
<header><a href="javascript:history.back();" class="glyphicon glyphicon-arrow-left" title="后退"></a>
  <h1 class="h4">今日餐饮</h1>
</header>
<div class="container">

	<div class="row fh5co-feature gag">					
				
	                <div class="col-xs-4 wm-card">
							<figure class="fh5co-figure">
								<img class="img-1 img-thumbnail" src="images/weimi.png" alt="">	
							</figure>
					</div>
	                <div class="col-xs-5 text-sty">
	                    <h5 class="pact-text">西红柿炒蛋<br><small>蛋白质与淀粉的碰撞，保健有能量</small><br><span>18&nbsp;积分</span></h5>                
					</div>
	               <div >
	               <table>
	               	<tr>
	               		<td class=""><p class="today-font"><small> 供应时间<span>&nbsp;11:30</span></small></p></td>
	               	</tr>
	               	<tr >
	               		<td><div class="doday-hei"><a href="javascript:showDivFun()"><button class="buy">购买</button></a></div></td>
	               	</tr>
	               </table>	                    
					</div>
	</div>
	<div class="row fh5co-feature gag">					
				
	                <div class="col-xs-4 wm-card">
							<figure class="fh5co-figure">
								<img class="img-1 img-thumbnail" src="images/weimi.png" alt="">	
							</figure>
					</div>
	                <div class="col-xs-5 text-sty">
	                    <h5 class="pact-text">西红柿炒蛋<br><small>蛋白质与淀粉的碰撞，保健有能量</small><br><span>18&nbsp;积分</span></h5>                
					</div>
	               <div >
	               <table>
	               	<tr>
	               		<td class=""><p class="today-font"><small> 供应时间<span>&nbsp;11:30</span></small></p></td>
	               	</tr>
	               	<tr >
	               		<td><div class="doday-hei"><a href="javascript:showDivFun()"><button class="buy">购买</button></a></div></td>
	               	</tr>
	               </table>	                    
					</div>
	</div>				
</div>



<div id="popDiv" class="mydiv" style="display:none;">
<div align="right" style="padding:2px;z-index:2000;font-size:12px;cursor:pointer;position:absolute;right:0;" onclick="closeDivFun()">

</div>
<!-- 弹框内容 -->
 <div class="">
        <!-- <p class="">单价：36元</p> -->
        <p class="p_num">
            <span class="sy_minus" id="sy_minus_gid1">-</span> 
            <input class="sy_num" id="sy_num_gid1" readonly="readonly" type="text" name="number1" value="1" /> 
            <span class="sy_plus" id="sy_plus_gid1">+</span>
        </p>
        <p class="">需支付：36元</p>
</div>

<a href="javascript:closeDivFun()"><button class="buy">取消</button></a>
<a href="javascript:showDivFun()"><button class="buy">确定</button></a>
</div>


<script>
//弹出调用的方法
function showDivFun(){
    document.getElementById('popDiv').style.display='block';
}
//关闭事件
function closeDivFun(){
    document.getElementById('popDiv').style.display='none';
}
 
</script>
       
</body>
</html>
